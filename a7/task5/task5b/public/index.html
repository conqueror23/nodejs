<html>
<head>
  <title>  Sockect</title>
  <script src = '/socket.io/socket.io.js'></script>
  <script src = 'chat.js'></script>
  <link href = 'chat.css' rel = 'sytlesheet'>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
  <style>
    #login{
      display: none;
    }
    #chat{
      display: none;
    }
  </style>
</head>
<body>

  <div id= "login">
    <form>
      Email:<input type="text" id="email">
      Nickname :<input type="text" id="nickname">
      <button id="loginBtn" type="button">login</button>
    </form>
  </div>

  <div id="chat">
    History Record:
    <ul id="messages"></ul>
    <form id="form">
        Message:<input type="text" id="input"/>
        <button id="formBtn" type="button">Send</button>
        <br>
        Search:<input type="text" id="search">
        <button id="SearBtn"type="button">Search</button>

    </form>
    <div ng-app='myApp'>
    <h1>Chat record </h1>
		<div ng-controller="myCtrl">
			<button ng-click="search_onclick()">Search</button>
			<br><br>

						<table border="1" width="100%">
				<tr>
					<th ng-click="search_orderByMe('author')">author</th>
					<th ng-click="search_orderByMe('email')">email</th>
					<th ng-click="search_orderByMe('record')">record</th>

				<tr ng-repeat="x in record | orderBy:myOrderBy">
					<td>{{x}}</td>
					<td>{{x}}</td>
					<td>{{x}}</td>

				</tr>
			</table>

		</div>
    Search Result:
    <ul id="searchResult"></ul>
  </div>
  </div>
  <script>
      var app = angular.module('myApp', []);
      app.controller('myCtrl', function($scope) {
        // $scope.search_onclick=function(){
        //   $http({
        //     method:"GET",
        //     url:"/search",
        //   }).then(
        //     function success(response){
              $scope.record=response;
            },function errors(response){
            });
            $scope.search_orderByMe = function(x) {
              $scope.myOrderBy = x;
            }
        }


</script>

</body>
</html>
